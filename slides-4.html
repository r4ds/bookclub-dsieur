<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5.1 Slides | Data Science in Education Using R Book Club</title>
  <meta name="description" content="This is the product of the R4DS Online Learning Community’s Book Club." />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="5.1 Slides | Data Science in Education Using R Book Club" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is the product of the R4DS Online Learning Community’s Book Club." />
  <meta name="github-repo" content="r4ds/bookclub-dsieur" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5.1 Slides | Data Science in Education Using R Book Club" />
  
  <meta name="twitter:description" content="This is the product of the R4DS Online Learning Community’s Book Club." />
  

<meta name="author" content="The R4DS Online Learning Community" />


<meta name="date" content="2021-05-26" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="walkthrough-1-the-education-data-science-pipeline.html"/>
<link rel="next" href="meeting-videos-4.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Science in Education Using R Book Club</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome</a><ul>
<li class="chapter" data-level="" data-path="book-club-meetings.html"><a href="book-club-meetings.html"><i class="fa fa-check"></i>Book club meetings</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="introduction-and-how-to-use-this-book.html"><a href="introduction-and-how-to-use-this-book.html"><i class="fa fa-check"></i><b>1</b> Introduction and How to Use this Book</a><ul>
<li class="chapter" data-level="1.1" data-path="slides.html"><a href="slides.html"><i class="fa fa-check"></i><b>1.1</b> Slides</a></li>
<li class="chapter" data-level="1.2" data-path="meeting-videos.html"><a href="meeting-videos.html"><i class="fa fa-check"></i><b>1.2</b> Meeting Videos</a><ul>
<li class="chapter" data-level="1.2.1" data-path="meeting-videos.html"><a href="meeting-videos.html#cohort-1"><i class="fa fa-check"></i><b>1.2.1</b> Cohort 1</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="what-does-data-science-in-education-look-like.html"><a href="what-does-data-science-in-education-look-like.html"><i class="fa fa-check"></i><b>2</b> What does Data Science in Education Look Like?</a><ul>
<li class="chapter" data-level="2.1" data-path="slides-1.html"><a href="slides-1.html"><i class="fa fa-check"></i><b>2.1</b> Slides</a></li>
<li class="chapter" data-level="2.2" data-path="meeting-videos-1.html"><a href="meeting-videos-1.html"><i class="fa fa-check"></i><b>2.2</b> Meeting Videos</a><ul>
<li class="chapter" data-level="2.2.1" data-path="meeting-videos-1.html"><a href="meeting-videos-1.html#cohort-1-1"><i class="fa fa-check"></i><b>2.2.1</b> Cohort 1</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="special-considerations.html"><a href="special-considerations.html"><i class="fa fa-check"></i><b>3</b> Special Considerations</a><ul>
<li class="chapter" data-level="3.1" data-path="slides-2.html"><a href="slides-2.html"><i class="fa fa-check"></i><b>3.1</b> Slides</a><ul>
<li class="chapter" data-level="3.1.1" data-path="slides-2.html"><a href="slides-2.html#resources-shared"><i class="fa fa-check"></i><b>3.1.1</b> Resources Shared</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="meeting-videos-2.html"><a href="meeting-videos-2.html"><i class="fa fa-check"></i><b>3.2</b> Meeting Videos</a><ul>
<li class="chapter" data-level="3.2.1" data-path="meeting-videos-2.html"><a href="meeting-videos-2.html#cohort-1-2"><i class="fa fa-check"></i><b>3.2.1</b> Cohort 1</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="getting-started-with-r-and-rstudio-foundational-skills.html"><a href="getting-started-with-r-and-rstudio-foundational-skills.html"><i class="fa fa-check"></i><b>4</b> Getting Started with R and RStudio &amp; Foundational Skills</a><ul>
<li class="chapter" data-level="4.1" data-path="slides-3.html"><a href="slides-3.html"><i class="fa fa-check"></i><b>4.1</b> Slides</a></li>
<li class="chapter" data-level="4.2" data-path="meeting-videos-3.html"><a href="meeting-videos-3.html"><i class="fa fa-check"></i><b>4.2</b> Meeting Videos</a><ul>
<li class="chapter" data-level="4.2.1" data-path="meeting-videos-3.html"><a href="meeting-videos-3.html#cohort-1-3"><i class="fa fa-check"></i><b>4.2.1</b> Cohort 1</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="walkthrough-1-the-education-data-science-pipeline.html"><a href="walkthrough-1-the-education-data-science-pipeline.html"><i class="fa fa-check"></i><b>5</b> Walkthrough 1: The Education Data Science Pipeline</a><ul>
<li class="chapter" data-level="5.1" data-path="slides-4.html"><a href="slides-4.html"><i class="fa fa-check"></i><b>5.1</b> Slides</a></li>
<li class="chapter" data-level="5.2" data-path="meeting-videos-4.html"><a href="meeting-videos-4.html"><i class="fa fa-check"></i><b>5.2</b> Meeting Videos</a><ul>
<li class="chapter" data-level="5.2.1" data-path="meeting-videos-4.html"><a href="meeting-videos-4.html#cohort-1-4"><i class="fa fa-check"></i><b>5.2.1</b> Cohort 1</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="walkthrough-2-approaching-gradebook-data-from-a-data-science-perspective.html"><a href="walkthrough-2-approaching-gradebook-data-from-a-data-science-perspective.html"><i class="fa fa-check"></i><b>6</b> Walkthrough 2: Approaching Gradebook Data From a Data Science Perspective</a><ul>
<li class="chapter" data-level="6.1" data-path="slides-5.html"><a href="slides-5.html"><i class="fa fa-check"></i><b>6.1</b> Slides</a></li>
<li class="chapter" data-level="6.2" data-path="meeting-videos-5.html"><a href="meeting-videos-5.html"><i class="fa fa-check"></i><b>6.2</b> Meeting Videos</a><ul>
<li class="chapter" data-level="6.2.1" data-path="meeting-videos-5.html"><a href="meeting-videos-5.html#cohort-1-5"><i class="fa fa-check"></i><b>6.2.1</b> Cohort 1</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="walkthrough-3-using-school-level-aggregate-data-to-illuminate-educational-inequities.html"><a href="walkthrough-3-using-school-level-aggregate-data-to-illuminate-educational-inequities.html"><i class="fa fa-check"></i><b>7</b> Walkthrough 3: Using School-Level Aggregate Data to Illuminate Educational Inequities</a><ul>
<li class="chapter" data-level="7.1" data-path="slides-6.html"><a href="slides-6.html"><i class="fa fa-check"></i><b>7.1</b> Slides</a></li>
<li class="chapter" data-level="7.2" data-path="meeting-videos-6.html"><a href="meeting-videos-6.html"><i class="fa fa-check"></i><b>7.2</b> Meeting Videos</a><ul>
<li class="chapter" data-level="7.2.1" data-path="meeting-videos-6.html"><a href="meeting-videos-6.html#cohort-1-6"><i class="fa fa-check"></i><b>7.2.1</b> Cohort 1</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="walkthrough-4-longitudinal-analysis-with-federal-students-with-disabilities-data.html"><a href="walkthrough-4-longitudinal-analysis-with-federal-students-with-disabilities-data.html"><i class="fa fa-check"></i><b>8</b> Walkthrough 4: Longitudinal Analysis With Federal Students With Disabilities Data</a><ul>
<li class="chapter" data-level="8.1" data-path="slides-7.html"><a href="slides-7.html"><i class="fa fa-check"></i><b>8.1</b> Slides</a></li>
<li class="chapter" data-level="8.2" data-path="meeting-videos-7.html"><a href="meeting-videos-7.html"><i class="fa fa-check"></i><b>8.2</b> Meeting Videos</a><ul>
<li class="chapter" data-level="8.2.1" data-path="meeting-videos-7.html"><a href="meeting-videos-7.html#cohort-1-7"><i class="fa fa-check"></i><b>8.2.1</b> Cohort 1</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="walkthrough-5-text-analysis-with-social-media-data.html"><a href="walkthrough-5-text-analysis-with-social-media-data.html"><i class="fa fa-check"></i><b>9</b> Walkthrough 5: Text Analysis With Social Media Data</a><ul>
<li class="chapter" data-level="9.1" data-path="slides-8.html"><a href="slides-8.html"><i class="fa fa-check"></i><b>9.1</b> Slides</a></li>
<li class="chapter" data-level="9.2" data-path="meeting-videos-8.html"><a href="meeting-videos-8.html"><i class="fa fa-check"></i><b>9.2</b> Meeting Videos</a><ul>
<li class="chapter" data-level="9.2.1" data-path="meeting-videos-8.html"><a href="meeting-videos-8.html#cohort-1-8"><i class="fa fa-check"></i><b>9.2.1</b> Cohort 1</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="walkthrough-6-exploring-relationships-using-social-network-analysis-with-social-media-data.html"><a href="walkthrough-6-exploring-relationships-using-social-network-analysis-with-social-media-data.html"><i class="fa fa-check"></i><b>10</b> Walkthrough 6: Exploring Relationships Using Social Network Analysis With Social Media Data</a><ul>
<li class="chapter" data-level="10.1" data-path="slides-9.html"><a href="slides-9.html"><i class="fa fa-check"></i><b>10.1</b> Slides</a></li>
<li class="chapter" data-level="10.2" data-path="meeting-videos-9.html"><a href="meeting-videos-9.html"><i class="fa fa-check"></i><b>10.2</b> Meeting Videos</a><ul>
<li class="chapter" data-level="10.2.1" data-path="meeting-videos-9.html"><a href="meeting-videos-9.html#cohort-1-9"><i class="fa fa-check"></i><b>10.2.1</b> Cohort 1</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="walkthrough-7-the-role-and-usefulness-of-multilevel-models.html"><a href="walkthrough-7-the-role-and-usefulness-of-multilevel-models.html"><i class="fa fa-check"></i><b>11</b> Walkthrough 7: The Role (and Usefulness) of Multilevel Models</a><ul>
<li class="chapter" data-level="11.1" data-path="slides-10.html"><a href="slides-10.html"><i class="fa fa-check"></i><b>11.1</b> Slides</a></li>
<li class="chapter" data-level="11.2" data-path="meeting-videos-10.html"><a href="meeting-videos-10.html"><i class="fa fa-check"></i><b>11.2</b> Meeting Videos</a><ul>
<li class="chapter" data-level="11.2.1" data-path="meeting-videos-10.html"><a href="meeting-videos-10.html#cohort-1-10"><i class="fa fa-check"></i><b>11.2.1</b> Cohort 1</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="walkthrough-8-predicting-students-final-grades-using-machine-learning-methods-with-online-course-data.html"><a href="walkthrough-8-predicting-students-final-grades-using-machine-learning-methods-with-online-course-data.html"><i class="fa fa-check"></i><b>12</b> Walkthrough 8: Predicting Students’ Final Grades Using Machine Learning Methods with Online Course Data</a><ul>
<li class="chapter" data-level="12.1" data-path="slides-11.html"><a href="slides-11.html"><i class="fa fa-check"></i><b>12.1</b> Slides</a></li>
<li class="chapter" data-level="12.2" data-path="meeting-videos-11.html"><a href="meeting-videos-11.html"><i class="fa fa-check"></i><b>12.2</b> Meeting Videos</a><ul>
<li class="chapter" data-level="12.2.1" data-path="meeting-videos-11.html"><a href="meeting-videos-11.html#cohort-1-11"><i class="fa fa-check"></i><b>12.2.1</b> Cohort 1</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="teaching-data-science.html"><a href="teaching-data-science.html"><i class="fa fa-check"></i><b>13</b> Teaching Data Science</a><ul>
<li class="chapter" data-level="13.1" data-path="slides-12.html"><a href="slides-12.html"><i class="fa fa-check"></i><b>13.1</b> Slides</a></li>
<li class="chapter" data-level="13.2" data-path="meeting-videos-12.html"><a href="meeting-videos-12.html"><i class="fa fa-check"></i><b>13.2</b> Meeting Videos</a><ul>
<li class="chapter" data-level="13.2.1" data-path="meeting-videos-12.html"><a href="meeting-videos-12.html#cohort-1-12"><i class="fa fa-check"></i><b>13.2.1</b> Cohort 1</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="introducing-data-science-tools-to-your-education-job.html"><a href="introducing-data-science-tools-to-your-education-job.html"><i class="fa fa-check"></i><b>14</b> Introducing Data Science Tools To Your Education Job</a><ul>
<li class="chapter" data-level="14.1" data-path="slides-13.html"><a href="slides-13.html"><i class="fa fa-check"></i><b>14.1</b> Slides</a></li>
<li class="chapter" data-level="14.2" data-path="meeting-videos-13.html"><a href="meeting-videos-13.html"><i class="fa fa-check"></i><b>14.2</b> Meeting Videos</a><ul>
<li class="chapter" data-level="14.2.1" data-path="meeting-videos-13.html"><a href="meeting-videos-13.html#cohort-1-13"><i class="fa fa-check"></i><b>14.2.1</b> Cohort 1</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Science in Education Using R Book Club</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="slides-4" class="section level2">
<h2><span class="header-section-number">5.1</span> Slides</h2>
<iframe src="https://docs.google.com/presentation/d/1sJgXd8weNnuCDTYFdb3iWErls0cVIefXbCegVBI3zTw/edit" width="100%" height="400px">
</iframe>
<details>
<p><summary> Walkthrough 1 Script </summary></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="slides-4.html#cb6-1"></a><span class="co"># useful shortcut#</span></span>
<span id="cb6-2"><a href="slides-4.html#cb6-2"></a>  <span class="co"># Run current line/selection: cmd + return (MAC), ctrl + Enter (Windows)</span></span>
<span id="cb6-3"><a href="slides-4.html#cb6-3"></a>  <span class="co"># Assignment sign (&lt;-) : Option + - (M), Alt + - (W)</span></span>
<span id="cb6-4"><a href="slides-4.html#cb6-4"></a>  <span class="co"># Pipe sign (%) : cmd + shift + M (M), ctrl + shift + M (W)</span></span>
<span id="cb6-5"><a href="slides-4.html#cb6-5"></a></span>
<span id="cb6-6"><a href="slides-4.html#cb6-6"></a><span class="kw">install.packages</span>(<span class="kw">c</span>(<span class="st">&quot;tidyverse&quot;</span>, <span class="st">&quot;apaTables&quot;</span>, <span class="st">&quot;sjPlot&quot;</span>, <span class="st">&quot;dataedu&quot;</span>, <span class="st">&quot;summarytools&quot;</span>, <span class="st">&quot;ggpubr&quot;</span>))</span>
<span id="cb6-7"><a href="slides-4.html#cb6-7"></a></span>
<span id="cb6-8"><a href="slides-4.html#cb6-8"></a><span class="co"># dataedu wasn&#39;t available for R ver 3.6.3 so I installed dev version of dataedu</span></span>
<span id="cb6-9"><a href="slides-4.html#cb6-9"></a>remotes<span class="op">::</span><span class="kw">install_github</span>(<span class="st">&quot;data-edu/dataedu&quot;</span>)</span>
<span id="cb6-10"><a href="slides-4.html#cb6-10"></a></span>
<span id="cb6-11"><a href="slides-4.html#cb6-11"></a><span class="co"># this was not in the book but useful to get descriptives</span></span>
<span id="cb6-12"><a href="slides-4.html#cb6-12"></a><span class="kw">install.packages</span>(<span class="st">&quot;summarytools&quot;</span>)</span>
<span id="cb6-13"><a href="slides-4.html#cb6-13"></a></span>
<span id="cb6-14"><a href="slides-4.html#cb6-14"></a><span class="co"># Load packages</span></span>
<span id="cb6-15"><a href="slides-4.html#cb6-15"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb6-16"><a href="slides-4.html#cb6-16"></a><span class="kw">library</span>(apaTables)</span>
<span id="cb6-17"><a href="slides-4.html#cb6-17"></a><span class="kw">library</span>(sjPlot)</span>
<span id="cb6-18"><a href="slides-4.html#cb6-18"></a><span class="kw">library</span>(readxl)</span>
<span id="cb6-19"><a href="slides-4.html#cb6-19"></a><span class="kw">library</span>(dataedu)</span>
<span id="cb6-20"><a href="slides-4.html#cb6-20"></a><span class="kw">library</span>(summarytools)</span>
<span id="cb6-21"><a href="slides-4.html#cb6-21"></a><span class="kw">library</span>(ggpubr)</span>
<span id="cb6-22"><a href="slides-4.html#cb6-22"></a></span>
<span id="cb6-23"><a href="slides-4.html#cb6-23"></a><span class="co">############################</span></span>
<span id="cb6-24"><a href="slides-4.html#cb6-24"></a><span class="co"># import data from dataedu #</span></span>
<span id="cb6-25"><a href="slides-4.html#cb6-25"></a><span class="co">############################</span></span>
<span id="cb6-26"><a href="slides-4.html#cb6-26"></a></span>
<span id="cb6-27"><a href="slides-4.html#cb6-27"></a><span class="co"># Pre-survey for the F15 and S16 semesters</span></span>
<span id="cb6-28"><a href="slides-4.html#cb6-28"></a>pre_survey &lt;-<span class="st"> </span>dataedu<span class="op">::</span>pre_survey</span>
<span id="cb6-29"><a href="slides-4.html#cb6-29"></a></span>
<span id="cb6-30"><a href="slides-4.html#cb6-30"></a><span class="co"># Gradebook and log-trace data for F15 and S16 semesters</span></span>
<span id="cb6-31"><a href="slides-4.html#cb6-31"></a>course_data &lt;-<span class="st"> </span>dataedu<span class="op">::</span>course_data</span>
<span id="cb6-32"><a href="slides-4.html#cb6-32"></a></span>
<span id="cb6-33"><a href="slides-4.html#cb6-33"></a><span class="co"># Log-trace data for F15 and S16 semesters - this is for time spent</span></span>
<span id="cb6-34"><a href="slides-4.html#cb6-34"></a>course_minutes &lt;-<span class="st"> </span>dataedu<span class="op">::</span>course_minutes</span>
<span id="cb6-35"><a href="slides-4.html#cb6-35"></a></span>
<span id="cb6-36"><a href="slides-4.html#cb6-36"></a><span class="co">#############</span></span>
<span id="cb6-37"><a href="slides-4.html#cb6-37"></a><span class="co"># view data #</span></span>
<span id="cb6-38"><a href="slides-4.html#cb6-38"></a><span class="co">#############</span></span>
<span id="cb6-39"><a href="slides-4.html#cb6-39"></a>pre_survey</span>
<span id="cb6-40"><a href="slides-4.html#cb6-40"></a><span class="kw">head</span>(pre_survey) <span class="co"># first six rows</span></span>
<span id="cb6-41"><a href="slides-4.html#cb6-41"></a><span class="kw">View</span>(pre_survey) <span class="co"># a full view in a separate tab</span></span>
<span id="cb6-42"><a href="slides-4.html#cb6-42"></a><span class="kw">glimpse</span>(pre_survey) <span class="co"># list of variables, values for the first couple of cases</span></span>
<span id="cb6-43"><a href="slides-4.html#cb6-43"></a></span>
<span id="cb6-44"><a href="slides-4.html#cb6-44"></a><span class="co"># get a quick look at each variable in df</span></span>
<span id="cb6-45"><a href="slides-4.html#cb6-45"></a><span class="kw">view</span>(<span class="kw">dfSummary</span>(pre_survey)) </span>
<span id="cb6-46"><a href="slides-4.html#cb6-46"></a></span>
<span id="cb6-47"><a href="slides-4.html#cb6-47"></a><span class="co">## take a look at course_data, course_minutes; what do you notice?</span></span>
<span id="cb6-48"><a href="slides-4.html#cb6-48"></a></span>
<span id="cb6-49"><a href="slides-4.html#cb6-49"></a><span class="co">########################</span></span>
<span id="cb6-50"><a href="slides-4.html#cb6-50"></a><span class="co"># 1.process pre_survey #</span></span>
<span id="cb6-51"><a href="slides-4.html#cb6-51"></a><span class="co">########################</span></span>
<span id="cb6-52"><a href="slides-4.html#cb6-52"></a>pre_survey  &lt;-</span>
<span id="cb6-53"><a href="slides-4.html#cb6-53"></a><span class="st">  </span>pre_survey  <span class="op">%&gt;%</span></span>
<span id="cb6-54"><a href="slides-4.html#cb6-54"></a><span class="st">  </span><span class="co"># Rename the qustions something easier to work with because R is case sensitive</span></span>
<span id="cb6-55"><a href="slides-4.html#cb6-55"></a><span class="st">  </span><span class="co"># and working with variable names in mix case is prone to error</span></span>
<span id="cb6-56"><a href="slides-4.html#cb6-56"></a><span class="st">  </span><span class="kw">rename</span>(</span>
<span id="cb6-57"><a href="slides-4.html#cb6-57"></a>    <span class="dt">q1 =</span> Q1MaincellgroupRow1,</span>
<span id="cb6-58"><a href="slides-4.html#cb6-58"></a>    <span class="dt">q2 =</span> Q1MaincellgroupRow2,</span>
<span id="cb6-59"><a href="slides-4.html#cb6-59"></a>    <span class="dt">q3 =</span> Q1MaincellgroupRow3,</span>
<span id="cb6-60"><a href="slides-4.html#cb6-60"></a>    <span class="dt">q4 =</span> Q1MaincellgroupRow4,</span>
<span id="cb6-61"><a href="slides-4.html#cb6-61"></a>    <span class="dt">q5 =</span> Q1MaincellgroupRow5,</span>
<span id="cb6-62"><a href="slides-4.html#cb6-62"></a>    <span class="dt">q6 =</span> Q1MaincellgroupRow6,</span>
<span id="cb6-63"><a href="slides-4.html#cb6-63"></a>    <span class="dt">q7 =</span> Q1MaincellgroupRow7,</span>
<span id="cb6-64"><a href="slides-4.html#cb6-64"></a>    <span class="dt">q8 =</span> Q1MaincellgroupRow8,</span>
<span id="cb6-65"><a href="slides-4.html#cb6-65"></a>    <span class="dt">q9 =</span> Q1MaincellgroupRow9,</span>
<span id="cb6-66"><a href="slides-4.html#cb6-66"></a>    <span class="dt">q10 =</span> Q1MaincellgroupRow10</span>
<span id="cb6-67"><a href="slides-4.html#cb6-67"></a>  ) <span class="op">%&gt;%</span></span>
<span id="cb6-68"><a href="slides-4.html#cb6-68"></a><span class="st">  </span><span class="co"># Convert all question responses to numeric</span></span>
<span id="cb6-69"><a href="slides-4.html#cb6-69"></a><span class="st">  </span><span class="kw">mutate_at</span>(<span class="kw">vars</span>(q1<span class="op">:</span>q10), <span class="kw">list</span>( <span class="op">~</span><span class="st"> </span><span class="kw">as.numeric</span>(.))) <span class="co"># q1-10 are already numeric, so this doesn&#39;t seem necessary</span></span>
<span id="cb6-70"><a href="slides-4.html#cb6-70"></a></span>
<span id="cb6-71"><a href="slides-4.html#cb6-71"></a><span class="co"># you could insert suffix to the var names indicate the three dimensions</span></span>
<span id="cb6-72"><a href="slides-4.html#cb6-72"></a><span class="co"># e.g. q1.i, q2.uv, 3.pc where i = interest, u = utility value, p = perceived competence</span></span>
<span id="cb6-73"><a href="slides-4.html#cb6-73"></a></span>
<span id="cb6-74"><a href="slides-4.html#cb6-74"></a><span class="co">#############################################</span></span>
<span id="cb6-75"><a href="slides-4.html#cb6-75"></a><span class="co">#1a.practice mutate = making a new variable #</span></span>
<span id="cb6-76"><a href="slides-4.html#cb6-76"></a><span class="co">#############################################</span></span>
<span id="cb6-77"><a href="slides-4.html#cb6-77"></a><span class="co"># create a df (dataframe) in tibble format with two columns/vars: male &amp; female</span></span>
<span id="cb6-78"><a href="slides-4.html#cb6-78"></a>df &lt;-<span class="st"> </span><span class="kw">tibble</span>(</span>
<span id="cb6-79"><a href="slides-4.html#cb6-79"></a>  <span class="dt">male =</span> <span class="dv">5</span>, </span>
<span id="cb6-80"><a href="slides-4.html#cb6-80"></a>  <span class="dt">female =</span> <span class="dv">5</span></span>
<span id="cb6-81"><a href="slides-4.html#cb6-81"></a>)</span>
<span id="cb6-82"><a href="slides-4.html#cb6-82"></a></span>
<span id="cb6-83"><a href="slides-4.html#cb6-83"></a><span class="co"># Use mutate to create a new column called &quot;total_students&quot; </span></span>
<span id="cb6-84"><a href="slides-4.html#cb6-84"></a><span class="co"># populate that column with the sum of the &quot;male&quot; and &quot;female&quot; variables</span></span>
<span id="cb6-85"><a href="slides-4.html#cb6-85"></a>df <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">mutate</span>(<span class="dt">total_students =</span> male <span class="op">+</span><span class="st"> </span>female)</span>
<span id="cb6-86"><a href="slides-4.html#cb6-86"></a></span>
<span id="cb6-87"><a href="slides-4.html#cb6-87"></a><span class="co"># let&#39;s keep this new column in df</span></span>
<span id="cb6-88"><a href="slides-4.html#cb6-88"></a>df &lt;-<span class="st"> </span>df <span class="op">%&gt;%</span><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">total_students =</span> male <span class="op">+</span><span class="st"> </span>female)</span>
<span id="cb6-89"><a href="slides-4.html#cb6-89"></a></span>
<span id="cb6-90"><a href="slides-4.html#cb6-90"></a><span class="co">######################################################</span></span>
<span id="cb6-91"><a href="slides-4.html#cb6-91"></a><span class="co"># 1b. reverse_score function with mutate &amp; case_when #</span></span>
<span id="cb6-92"><a href="slides-4.html#cb6-92"></a><span class="co">######################################################</span></span>
<span id="cb6-93"><a href="slides-4.html#cb6-93"></a><span class="co"># This part of the code is where we write the function:</span></span>
<span id="cb6-94"><a href="slides-4.html#cb6-94"></a><span class="co"># Function for reversing scales </span></span>
<span id="cb6-95"><a href="slides-4.html#cb6-95"></a>reverse_scale &lt;-<span class="st"> </span><span class="cf">function</span>(question) {</span>
<span id="cb6-96"><a href="slides-4.html#cb6-96"></a>  <span class="co"># Reverses the response scales for consistency</span></span>
<span id="cb6-97"><a href="slides-4.html#cb6-97"></a>  <span class="co">#   Arguments:</span></span>
<span id="cb6-98"><a href="slides-4.html#cb6-98"></a>  <span class="co">#     question - survey question</span></span>
<span id="cb6-99"><a href="slides-4.html#cb6-99"></a>  <span class="co">#   Returns: </span></span>
<span id="cb6-100"><a href="slides-4.html#cb6-100"></a>  <span class="co">#    a numeric converted response</span></span>
<span id="cb6-101"><a href="slides-4.html#cb6-101"></a>  <span class="co"># Note: even though 3 is not transformed, case_when expects a match for all</span></span>
<span id="cb6-102"><a href="slides-4.html#cb6-102"></a>  <span class="co"># possible conditions, so it&#39;s best practice to label each possible input</span></span>
<span id="cb6-103"><a href="slides-4.html#cb6-103"></a>  <span class="co"># and use TRUE ~ as the final statement returning NA for unexpected inputs</span></span>
<span id="cb6-104"><a href="slides-4.html#cb6-104"></a>  x &lt;-<span class="st"> </span><span class="kw">case_when</span>(</span>
<span id="cb6-105"><a href="slides-4.html#cb6-105"></a>    question <span class="op">==</span><span class="st"> </span><span class="dv">1</span> <span class="op">~</span><span class="st"> </span><span class="dv">5</span>,</span>
<span id="cb6-106"><a href="slides-4.html#cb6-106"></a>    question <span class="op">==</span><span class="st"> </span><span class="dv">2</span> <span class="op">~</span><span class="st"> </span><span class="dv">4</span>,</span>
<span id="cb6-107"><a href="slides-4.html#cb6-107"></a>    question <span class="op">==</span><span class="st"> </span><span class="dv">3</span> <span class="op">~</span><span class="st"> </span><span class="dv">3</span>, </span>
<span id="cb6-108"><a href="slides-4.html#cb6-108"></a>    question <span class="op">==</span><span class="st"> </span><span class="dv">4</span> <span class="op">~</span><span class="st"> </span><span class="dv">2</span>,</span>
<span id="cb6-109"><a href="slides-4.html#cb6-109"></a>    question <span class="op">==</span><span class="st"> </span><span class="dv">5</span> <span class="op">~</span><span class="st"> </span><span class="dv">1</span>,</span>
<span id="cb6-110"><a href="slides-4.html#cb6-110"></a>    <span class="ot">TRUE</span> <span class="op">~</span><span class="st"> </span><span class="ot">NA_real_</span></span>
<span id="cb6-111"><a href="slides-4.html#cb6-111"></a>  )</span>
<span id="cb6-112"><a href="slides-4.html#cb6-112"></a>  x</span>
<span id="cb6-113"><a href="slides-4.html#cb6-113"></a>}</span>
<span id="cb6-114"><a href="slides-4.html#cb6-114"></a></span>
<span id="cb6-115"><a href="slides-4.html#cb6-115"></a><span class="co"># let&#39;s see how it works</span></span>
<span id="cb6-116"><a href="slides-4.html#cb6-116"></a><span class="kw">reverse_scale</span>(pre_survey<span class="op">$</span>q4)</span>
<span id="cb6-117"><a href="slides-4.html#cb6-117"></a>pre_survey<span class="op">$</span>q4 <span class="co"># compare with original</span></span>
<span id="cb6-118"><a href="slides-4.html#cb6-118"></a></span>
<span id="cb6-119"><a href="slides-4.html#cb6-119"></a><span class="co"># And here&#39;s where we use that function to reverse the scales</span></span>
<span id="cb6-120"><a href="slides-4.html#cb6-120"></a><span class="co"># We use the pipe operator %&gt;% here</span></span>
<span id="cb6-121"><a href="slides-4.html#cb6-121"></a><span class="co"># Reverse scale for questions 4 and 7</span></span>
<span id="cb6-122"><a href="slides-4.html#cb6-122"></a>pre_survey &lt;-</span>
<span id="cb6-123"><a href="slides-4.html#cb6-123"></a><span class="st">  </span>pre_survey <span class="op">%&gt;%</span></span>
<span id="cb6-124"><a href="slides-4.html#cb6-124"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">q4 =</span> <span class="kw">reverse_scale</span>(q4), <span class="co"># mutate with the original var name to overwrite</span></span>
<span id="cb6-125"><a href="slides-4.html#cb6-125"></a>         <span class="dt">q7 =</span> <span class="kw">reverse_scale</span>(q7))</span>
<span id="cb6-126"><a href="slides-4.html#cb6-126"></a></span>
<span id="cb6-127"><a href="slides-4.html#cb6-127"></a><span class="co"># Note: psych package has reverse.code() function so you don&#39;t have to write your own</span></span>
<span id="cb6-128"><a href="slides-4.html#cb6-128"></a></span>
<span id="cb6-129"><a href="slides-4.html#cb6-129"></a><span class="co">#####################################################</span></span>
<span id="cb6-130"><a href="slides-4.html#cb6-130"></a><span class="co">#1c. pivot_longer to make pre_survey into long form #</span></span>
<span id="cb6-131"><a href="slides-4.html#cb6-131"></a><span class="co">#####################################################</span></span>
<span id="cb6-132"><a href="slides-4.html#cb6-132"></a></span>
<span id="cb6-133"><a href="slides-4.html#cb6-133"></a><span class="co"># Pivot the dataset from wide to long format</span></span>
<span id="cb6-134"><a href="slides-4.html#cb6-134"></a><span class="co"># And name the long format df as measure_mean</span></span>
<span id="cb6-135"><a href="slides-4.html#cb6-135"></a>measure_mean &lt;-</span>
<span id="cb6-136"><a href="slides-4.html#cb6-136"></a><span class="st">  </span>pre_survey <span class="op">%&gt;%</span></span>
<span id="cb6-137"><a href="slides-4.html#cb6-137"></a><span class="st">  </span><span class="co"># Gather questions and responses</span></span>
<span id="cb6-138"><a href="slides-4.html#cb6-138"></a><span class="st">  </span><span class="kw">pivot_longer</span>(<span class="dt">cols =</span> q1<span class="op">:</span>q10,</span>
<span id="cb6-139"><a href="slides-4.html#cb6-139"></a>               <span class="dt">names_to =</span> <span class="st">&quot;question&quot;</span>, <span class="co"># give a new var/col name &quot;question&quot; where question # will go</span></span>
<span id="cb6-140"><a href="slides-4.html#cb6-140"></a>               <span class="dt">values_to =</span> <span class="st">&quot;response&quot;</span>) <span class="co"># give a new var/col name &quot;response&quot; where response values will go</span></span>
<span id="cb6-141"><a href="slides-4.html#cb6-141"></a></span>
<span id="cb6-142"><a href="slides-4.html#cb6-142"></a><span class="co"># create a new var called measure to denote 3 dimensions of motivation </span></span>
<span id="cb6-143"><a href="slides-4.html#cb6-143"></a>measure_mean &lt;-<span class="st"> </span>measure_mean <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb6-144"><a href="slides-4.html#cb6-144"></a><span class="st">  </span><span class="co"># Here&#39;s where we make the column of question categories called &quot;measure&quot;</span></span>
<span id="cb6-145"><a href="slides-4.html#cb6-145"></a><span class="st">  </span><span class="kw">mutate</span>(</span>
<span id="cb6-146"><a href="slides-4.html#cb6-146"></a>    <span class="dt">measure =</span> <span class="kw">case_when</span>(</span>
<span id="cb6-147"><a href="slides-4.html#cb6-147"></a>      question <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;q1&quot;</span>, <span class="st">&quot;q4&quot;</span>, <span class="st">&quot;q5&quot;</span>, <span class="st">&quot;q8&quot;</span>, <span class="st">&quot;q10&quot;</span>) <span class="op">~</span><span class="st"> &quot;int&quot;</span>,</span>
<span id="cb6-148"><a href="slides-4.html#cb6-148"></a>      question <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;q2&quot;</span>, <span class="st">&quot;q6&quot;</span>, <span class="st">&quot;q9&quot;</span>) <span class="op">~</span><span class="st"> &quot;uv&quot;</span>,</span>
<span id="cb6-149"><a href="slides-4.html#cb6-149"></a>      question <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;q3&quot;</span>, <span class="st">&quot;q7&quot;</span>) <span class="op">~</span><span class="st"> &quot;pc&quot;</span>,</span>
<span id="cb6-150"><a href="slides-4.html#cb6-150"></a>      <span class="ot">TRUE</span> <span class="op">~</span><span class="st"> </span><span class="ot">NA_character_</span>)</span>
<span id="cb6-151"><a href="slides-4.html#cb6-151"></a>  )</span>
<span id="cb6-152"><a href="slides-4.html#cb6-152"></a></span>
<span id="cb6-153"><a href="slides-4.html#cb6-153"></a><span class="co">###################################################</span></span>
<span id="cb6-154"><a href="slides-4.html#cb6-154"></a><span class="co"># 1d. Get mean scores for each motivation measure #</span></span>
<span id="cb6-155"><a href="slides-4.html#cb6-155"></a><span class="co"># Across ~912 students who responded the pre-survey</span></span>
<span id="cb6-156"><a href="slides-4.html#cb6-156"></a><span class="co"># using group_by() and summarize()</span></span>
<span id="cb6-157"><a href="slides-4.html#cb6-157"></a><span class="co">###################################################</span></span>
<span id="cb6-158"><a href="slides-4.html#cb6-158"></a></span>
<span id="cb6-159"><a href="slides-4.html#cb6-159"></a>measure_mean &lt;-<span class="st"> </span>measure_mean <span class="op">%&gt;%</span></span>
<span id="cb6-160"><a href="slides-4.html#cb6-160"></a><span class="st">  </span><span class="co"># First, we group by the new variable &quot;measure&quot;</span></span>
<span id="cb6-161"><a href="slides-4.html#cb6-161"></a><span class="st">  </span><span class="kw">group_by</span>(measure) <span class="op">%&gt;%</span></span>
<span id="cb6-162"><a href="slides-4.html#cb6-162"></a><span class="st">  </span><span class="co"># Here&#39;s where we compute the mean of the responses</span></span>
<span id="cb6-163"><a href="slides-4.html#cb6-163"></a><span class="st">  </span><span class="kw">summarize</span>(</span>
<span id="cb6-164"><a href="slides-4.html#cb6-164"></a>    <span class="co"># Creating a new variable to indicate the mean response for each measure</span></span>
<span id="cb6-165"><a href="slides-4.html#cb6-165"></a>    <span class="dt">mean_response =</span> <span class="kw">mean</span>(response, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>),</span>
<span id="cb6-166"><a href="slides-4.html#cb6-166"></a>    <span class="co"># Creating a new variable to indicate the percent of each measure that </span></span>
<span id="cb6-167"><a href="slides-4.html#cb6-167"></a>    <span class="co"># had NAs in the response field</span></span>
<span id="cb6-168"><a href="slides-4.html#cb6-168"></a>    <span class="dt">percent_NA =</span> <span class="kw">mean</span>(<span class="kw">is.na</span>(response))</span>
<span id="cb6-169"><a href="slides-4.html#cb6-169"></a>  )</span>
<span id="cb6-170"><a href="slides-4.html#cb6-170"></a></span>
<span id="cb6-171"><a href="slides-4.html#cb6-171"></a>measure_mean</span>
<span id="cb6-172"><a href="slides-4.html#cb6-172"></a></span>
<span id="cb6-173"><a href="slides-4.html#cb6-173"></a><span class="co">##############################</span></span>
<span id="cb6-174"><a href="slides-4.html#cb6-174"></a><span class="co"># 2. Process the course data #</span></span>
<span id="cb6-175"><a href="slides-4.html#cb6-175"></a><span class="co">##############################</span></span>
<span id="cb6-176"><a href="slides-4.html#cb6-176"></a></span>
<span id="cb6-177"><a href="slides-4.html#cb6-177"></a><span class="kw">View</span>(course_data)</span>
<span id="cb6-178"><a href="slides-4.html#cb6-178"></a></span>
<span id="cb6-179"><a href="slides-4.html#cb6-179"></a><span class="co"># split course section into components</span></span>
<span id="cb6-180"><a href="slides-4.html#cb6-180"></a>course_data &lt;-<span class="st"> </span></span>
<span id="cb6-181"><a href="slides-4.html#cb6-181"></a><span class="st">  </span>course_data <span class="op">%&gt;%</span></span>
<span id="cb6-182"><a href="slides-4.html#cb6-182"></a><span class="st">  </span><span class="co"># Give course subject, semester, and section their own columns</span></span>
<span id="cb6-183"><a href="slides-4.html#cb6-183"></a><span class="st">  </span><span class="kw">separate</span>(</span>
<span id="cb6-184"><a href="slides-4.html#cb6-184"></a>    <span class="dt">col =</span> CourseSectionOrigID,</span>
<span id="cb6-185"><a href="slides-4.html#cb6-185"></a>    <span class="dt">into =</span> <span class="kw">c</span>(<span class="st">&quot;subject&quot;</span>, <span class="st">&quot;semester&quot;</span>, <span class="st">&quot;section&quot;</span>),</span>
<span id="cb6-186"><a href="slides-4.html#cb6-186"></a>    <span class="dt">sep =</span> <span class="st">&quot;-&quot;</span>,</span>
<span id="cb6-187"><a href="slides-4.html#cb6-187"></a>    <span class="dt">remove =</span> <span class="ot">FALSE</span> <span class="co"># this is to keep the original var</span></span>
<span id="cb6-188"><a href="slides-4.html#cb6-188"></a>  )</span>
<span id="cb6-189"><a href="slides-4.html#cb6-189"></a></span>
<span id="cb6-190"><a href="slides-4.html#cb6-190"></a><span class="co">#############################################</span></span>
<span id="cb6-191"><a href="slides-4.html#cb6-191"></a><span class="co"># 3. Join/merge course_data with pre_survey #</span></span>
<span id="cb6-192"><a href="slides-4.html#cb6-192"></a><span class="co">#############################################</span></span>
<span id="cb6-193"><a href="slides-4.html#cb6-193"></a></span>
<span id="cb6-194"><a href="slides-4.html#cb6-194"></a><span class="co">#rename pre_survey id vars</span></span>
<span id="cb6-195"><a href="slides-4.html#cb6-195"></a>pre_survey &lt;-</span>
<span id="cb6-196"><a href="slides-4.html#cb6-196"></a><span class="st">  </span>pre_survey <span class="op">%&gt;%</span></span>
<span id="cb6-197"><a href="slides-4.html#cb6-197"></a><span class="st">  </span><span class="kw">rename</span>(<span class="dt">student_id =</span> opdata_username, <span class="co">#new_var_name = old_var_name</span></span>
<span id="cb6-198"><a href="slides-4.html#cb6-198"></a>         <span class="dt">course_id =</span> opdata_CourseID)</span>
<span id="cb6-199"><a href="slides-4.html#cb6-199"></a></span>
<span id="cb6-200"><a href="slides-4.html#cb6-200"></a>pre_survey</span>
<span id="cb6-201"><a href="slides-4.html#cb6-201"></a></span>
<span id="cb6-202"><a href="slides-4.html#cb6-202"></a><span class="co">################################################</span></span>
<span id="cb6-203"><a href="slides-4.html#cb6-203"></a><span class="co">#3a.  extract 5 digits inbetween _ _ in student_id #</span></span>
<span id="cb6-204"><a href="slides-4.html#cb6-204"></a><span class="co">################################################</span></span>
<span id="cb6-205"><a href="slides-4.html#cb6-205"></a></span>
<span id="cb6-206"><a href="slides-4.html#cb6-206"></a><span class="co">#trying str_sub just with one string value</span></span>
<span id="cb6-207"><a href="slides-4.html#cb6-207"></a><span class="kw">str_sub</span>(<span class="st">&quot;_99888_1&quot;</span>, <span class="dt">start =</span> <span class="dv">2</span>)</span>
<span id="cb6-208"><a href="slides-4.html#cb6-208"></a><span class="kw">str_sub</span>(<span class="st">&quot;_99888_1&quot;</span>, <span class="dt">start =</span> <span class="dv">-3</span>)</span>
<span id="cb6-209"><a href="slides-4.html#cb6-209"></a><span class="kw">str_sub</span>(<span class="st">&quot;_99888_1&quot;</span>, <span class="dt">start =</span> <span class="dv">2</span>, <span class="dt">end =</span> <span class="dv">-3</span>)</span>
<span id="cb6-210"><a href="slides-4.html#cb6-210"></a></span>
<span id="cb6-211"><a href="slides-4.html#cb6-211"></a><span class="co"># Re-create the variable &quot;student_id&quot; so that it excludes the extraneous characters</span></span>
<span id="cb6-212"><a href="slides-4.html#cb6-212"></a>pre_survey &lt;-<span class="st"> </span>pre_survey <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb6-213"><a href="slides-4.html#cb6-213"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">student_id =</span> <span class="kw">str_sub</span>(student_id, <span class="dt">start =</span> <span class="dv">2</span>, <span class="dt">end =</span> <span class="dv">-3</span>))</span>
<span id="cb6-214"><a href="slides-4.html#cb6-214"></a></span>
<span id="cb6-215"><a href="slides-4.html#cb6-215"></a><span class="co"># Save the new variable as numeric so that R no longer thinks it is text </span></span>
<span id="cb6-216"><a href="slides-4.html#cb6-216"></a>pre_survey &lt;-<span class="st"> </span>pre_survey <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb6-217"><a href="slides-4.html#cb6-217"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">student_id =</span> <span class="kw">as.numeric</span>(student_id))</span>
<span id="cb6-218"><a href="slides-4.html#cb6-218"></a></span>
<span id="cb6-219"><a href="slides-4.html#cb6-219"></a><span class="co">###########################################################</span></span>
<span id="cb6-220"><a href="slides-4.html#cb6-220"></a><span class="co">#3b rename id vars in course_data and join with pre_survey</span></span>
<span id="cb6-221"><a href="slides-4.html#cb6-221"></a><span class="co">##########################################################</span></span>
<span id="cb6-222"><a href="slides-4.html#cb6-222"></a>course_data &lt;-</span>
<span id="cb6-223"><a href="slides-4.html#cb6-223"></a><span class="st">  </span>course_data <span class="op">%&gt;%</span></span>
<span id="cb6-224"><a href="slides-4.html#cb6-224"></a><span class="st">  </span><span class="kw">rename</span>(<span class="dt">student_id =</span> Bb_UserPK,</span>
<span id="cb6-225"><a href="slides-4.html#cb6-225"></a>         <span class="dt">course_id =</span> CourseSectionOrigID)</span>
<span id="cb6-226"><a href="slides-4.html#cb6-226"></a></span>
<span id="cb6-227"><a href="slides-4.html#cb6-227"></a><span class="co"># new df merges course_data with pre_survey</span></span>
<span id="cb6-228"><a href="slides-4.html#cb6-228"></a>dat &lt;-</span>
<span id="cb6-229"><a href="slides-4.html#cb6-229"></a><span class="st">  </span><span class="kw">left_join</span>(course_data, pre_survey,</span>
<span id="cb6-230"><a href="slides-4.html#cb6-230"></a>            <span class="dt">by =</span> <span class="kw">c</span>(<span class="st">&quot;student_id&quot;</span>, <span class="st">&quot;course_id&quot;</span>))</span>
<span id="cb6-231"><a href="slides-4.html#cb6-231"></a>dat</span>
<span id="cb6-232"><a href="slides-4.html#cb6-232"></a></span>
<span id="cb6-233"><a href="slides-4.html#cb6-233"></a><span class="co">############################################</span></span>
<span id="cb6-234"><a href="slides-4.html#cb6-234"></a><span class="co">#4. Process course_minutes &amp; join with dat</span></span>
<span id="cb6-235"><a href="slides-4.html#cb6-235"></a><span class="co">############################################</span></span>
<span id="cb6-236"><a href="slides-4.html#cb6-236"></a>course_minutes &lt;-</span>
<span id="cb6-237"><a href="slides-4.html#cb6-237"></a><span class="st">  </span>course_minutes <span class="op">%&gt;%</span></span>
<span id="cb6-238"><a href="slides-4.html#cb6-238"></a><span class="st">  </span><span class="kw">rename</span>(<span class="dt">student_id =</span> Bb_UserPK,</span>
<span id="cb6-239"><a href="slides-4.html#cb6-239"></a>         <span class="dt">course_id =</span> CourseSectionOrigID)</span>
<span id="cb6-240"><a href="slides-4.html#cb6-240"></a></span>
<span id="cb6-241"><a href="slides-4.html#cb6-241"></a>course_minutes &lt;-</span>
<span id="cb6-242"><a href="slides-4.html#cb6-242"></a><span class="st">  </span>course_minutes <span class="op">%&gt;%</span></span>
<span id="cb6-243"><a href="slides-4.html#cb6-243"></a><span class="st">  </span><span class="co"># Change the data type for student_id in course_minutes so we can match to </span></span>
<span id="cb6-244"><a href="slides-4.html#cb6-244"></a><span class="st">  </span><span class="co"># student_id in dat</span></span>
<span id="cb6-245"><a href="slides-4.html#cb6-245"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">student_id =</span> <span class="kw">as.integer</span>(student_id))</span>
<span id="cb6-246"><a href="slides-4.html#cb6-246"></a></span>
<span id="cb6-247"><a href="slides-4.html#cb6-247"></a>dat &lt;-<span class="st"> </span></span>
<span id="cb6-248"><a href="slides-4.html#cb6-248"></a><span class="st">  </span>dat <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb6-249"><a href="slides-4.html#cb6-249"></a><span class="st">  </span><span class="kw">left_join</span>(course_minutes, </span>
<span id="cb6-250"><a href="slides-4.html#cb6-250"></a>            <span class="dt">by =</span> <span class="kw">c</span>(<span class="st">&quot;student_id&quot;</span>, <span class="st">&quot;course_id&quot;</span>))</span>
<span id="cb6-251"><a href="slides-4.html#cb6-251"></a></span>
<span id="cb6-252"><a href="slides-4.html#cb6-252"></a><span class="co"># dat has many gradebook_items per student per course</span></span>
<span id="cb6-253"><a href="slides-4.html#cb6-253"></a><span class="co"># we want just one row per student &amp; course combo</span></span>
<span id="cb6-254"><a href="slides-4.html#cb6-254"></a><span class="co"># using distinct()</span></span>
<span id="cb6-255"><a href="slides-4.html#cb6-255"></a>dat &lt;-</span>
<span id="cb6-256"><a href="slides-4.html#cb6-256"></a><span class="st">  </span><span class="kw">distinct</span>(dat, course_id, student_id, <span class="dt">.keep_all =</span> <span class="ot">TRUE</span>)</span>
<span id="cb6-257"><a href="slides-4.html#cb6-257"></a></span>
<span id="cb6-258"><a href="slides-4.html#cb6-258"></a><span class="co"># rename final grade var</span></span>
<span id="cb6-259"><a href="slides-4.html#cb6-259"></a>dat &lt;-<span class="st"> </span><span class="kw">rename</span>(dat, <span class="dt">final_grade =</span> FinalGradeCEMS)</span>
<span id="cb6-260"><a href="slides-4.html#cb6-260"></a></span>
<span id="cb6-261"><a href="slides-4.html#cb6-261"></a><span class="co">###########################################</span></span>
<span id="cb6-262"><a href="slides-4.html#cb6-262"></a><span class="co"># 5. Analysis</span></span>
<span id="cb6-263"><a href="slides-4.html#cb6-263"></a><span class="co">###########################################</span></span>
<span id="cb6-264"><a href="slides-4.html#cb6-264"></a></span>
<span id="cb6-265"><a href="slides-4.html#cb6-265"></a><span class="co">#######################################################################</span></span>
<span id="cb6-266"><a href="slides-4.html#cb6-266"></a><span class="co"># 5a.Scatter plot to examine relationship between final grade &amp; time spent</span></span>
<span id="cb6-267"><a href="slides-4.html#cb6-267"></a><span class="co">#######################################################################</span></span>
<span id="cb6-268"><a href="slides-4.html#cb6-268"></a><span class="kw">view</span>(<span class="kw">dfSummary</span>(dat)) </span>
<span id="cb6-269"><a href="slides-4.html#cb6-269"></a></span>
<span id="cb6-270"><a href="slides-4.html#cb6-270"></a><span class="co">#scatter plot to see relationship between timespent &amp; final grade</span></span>
<span id="cb6-271"><a href="slides-4.html#cb6-271"></a>p1 &lt;-<span class="st"> </span>dat <span class="op">%&gt;%</span></span>
<span id="cb6-272"><a href="slides-4.html#cb6-272"></a><span class="st">  </span><span class="co"># aes() tells ggplot2 what variables to map to what feature of a plot</span></span>
<span id="cb6-273"><a href="slides-4.html#cb6-273"></a><span class="st">  </span><span class="co"># Here we map variables to the x- and y-axis</span></span>
<span id="cb6-274"><a href="slides-4.html#cb6-274"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> TimeSpent, <span class="dt">y =</span> final_grade)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb6-275"><a href="slides-4.html#cb6-275"></a><span class="st">  </span><span class="co"># Creates a point with x- and y-axis coordinates specified above</span></span>
<span id="cb6-276"><a href="slides-4.html#cb6-276"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">color =</span> <span class="kw">dataedu_colors</span>(<span class="st">&quot;green&quot;</span>)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb6-277"><a href="slides-4.html#cb6-277"></a><span class="st">  </span><span class="kw">theme_dataedu</span>() <span class="op">+</span></span>
<span id="cb6-278"><a href="slides-4.html#cb6-278"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Time Spent&quot;</span>,</span>
<span id="cb6-279"><a href="slides-4.html#cb6-279"></a>       <span class="dt">y =</span> <span class="st">&quot;Final Grade&quot;</span>)</span>
<span id="cb6-280"><a href="slides-4.html#cb6-280"></a></span>
<span id="cb6-281"><a href="slides-4.html#cb6-281"></a><span class="co"># add a line of best fit</span></span>
<span id="cb6-282"><a href="slides-4.html#cb6-282"></a>p1 <span class="op">+</span><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;lm&quot;</span>)</span>
<span id="cb6-283"><a href="slides-4.html#cb6-283"></a></span>
<span id="cb6-284"><a href="slides-4.html#cb6-284"></a><span class="co"># with ggpubr, you can add correlation to the graph</span></span>
<span id="cb6-285"><a href="slides-4.html#cb6-285"></a><span class="kw">require</span>(ggpubr)</span>
<span id="cb6-286"><a href="slides-4.html#cb6-286"></a>p2 &lt;-<span class="st"> </span><span class="kw">ggscatter</span>(dat, <span class="dt">x =</span> <span class="st">&quot;TimeSpent&quot;</span>, <span class="dt">y =</span> <span class="st">&quot;final_grade&quot;</span>,</span>
<span id="cb6-287"><a href="slides-4.html#cb6-287"></a>                <span class="dt">color =</span> <span class="st">&quot;springgreen4&quot;</span>,</span>
<span id="cb6-288"><a href="slides-4.html#cb6-288"></a>                <span class="dt">add =</span> <span class="st">&quot;reg.line&quot;</span>,  <span class="co"># Add regressin line</span></span>
<span id="cb6-289"><a href="slides-4.html#cb6-289"></a>                <span class="dt">add.params =</span> <span class="kw">list</span>(<span class="dt">color =</span> <span class="st">&quot;blue&quot;</span>, <span class="dt">fill =</span> <span class="st">&quot;lightgray&quot;</span>), <span class="co"># Customize reg. line</span></span>
<span id="cb6-290"><a href="slides-4.html#cb6-290"></a>                <span class="dt">conf.int =</span> <span class="ot">TRUE</span> <span class="co"># Add confidence interval</span></span>
<span id="cb6-291"><a href="slides-4.html#cb6-291"></a>                )</span>
<span id="cb6-292"><a href="slides-4.html#cb6-292"></a><span class="co"># Add correlation coefficient</span></span>
<span id="cb6-293"><a href="slides-4.html#cb6-293"></a>p2 <span class="op">+</span><span class="st"> </span></span>
<span id="cb6-294"><a href="slides-4.html#cb6-294"></a><span class="st">  </span><span class="kw">stat_cor</span>(<span class="dt">method =</span> <span class="st">&quot;pearson&quot;</span>, <span class="dt">label.x =</span> <span class="dv">3900</span>, <span class="dt">label.y =</span> <span class="dv">130</span>,</span>
<span id="cb6-295"><a href="slides-4.html#cb6-295"></a>           <span class="dt">p.accuracy =</span> <span class="fl">0.001</span>, <span class="dt">r.accuracy =</span> <span class="fl">0.01</span>)</span>
<span id="cb6-296"><a href="slides-4.html#cb6-296"></a></span>
<span id="cb6-297"><a href="slides-4.html#cb6-297"></a><span class="co">###################################################</span></span>
<span id="cb6-298"><a href="slides-4.html#cb6-298"></a><span class="co"># 5b.Linear regression with time spent as predictor</span></span>
<span id="cb6-299"><a href="slides-4.html#cb6-299"></a><span class="co">###################################################</span></span>
<span id="cb6-300"><a href="slides-4.html#cb6-300"></a>m_linear &lt;-</span>
<span id="cb6-301"><a href="slides-4.html#cb6-301"></a><span class="st">  </span><span class="kw">lm</span>(final_grade <span class="op">~</span><span class="st"> </span>TimeSpent, <span class="dt">data =</span> dat)</span>
<span id="cb6-302"><a href="slides-4.html#cb6-302"></a></span>
<span id="cb6-303"><a href="slides-4.html#cb6-303"></a><span class="kw">summary</span>(m_linear)</span>
<span id="cb6-304"><a href="slides-4.html#cb6-304"></a></span>
<span id="cb6-305"><a href="slides-4.html#cb6-305"></a><span class="co"># get publication ready table with tab_model function</span></span>
<span id="cb6-306"><a href="slides-4.html#cb6-306"></a><span class="kw">require</span>(sjPlot)</span>
<span id="cb6-307"><a href="slides-4.html#cb6-307"></a><span class="kw">tab_model</span>(m_linear,</span>
<span id="cb6-308"><a href="slides-4.html#cb6-308"></a>          <span class="dt">title =</span> <span class="st">&quot;Table 7.1&quot;</span>)</span>
<span id="cb6-309"><a href="slides-4.html#cb6-309"></a><span class="co"># you can copy and paste it into Word!</span></span>
<span id="cb6-310"><a href="slides-4.html#cb6-310"></a></span>
<span id="cb6-311"><a href="slides-4.html#cb6-311"></a><span class="co"># or save it with apa.re.table function</span></span>
<span id="cb6-312"><a href="slides-4.html#cb6-312"></a><span class="kw">apa.reg.table</span>(m_linear, <span class="dt">filename =</span> <span class="st">&quot;regression-table-output.doc&quot;</span>)</span>
<span id="cb6-313"><a href="slides-4.html#cb6-313"></a></span>
<span id="cb6-314"><a href="slides-4.html#cb6-314"></a><span class="co">###################################################</span></span>
<span id="cb6-315"><a href="slides-4.html#cb6-315"></a><span class="co"># 5c.Correlations among the 3 motivation variables</span></span>
<span id="cb6-316"><a href="slides-4.html#cb6-316"></a><span class="co">###################################################</span></span>
<span id="cb6-317"><a href="slides-4.html#cb6-317"></a></span>
<span id="cb6-318"><a href="slides-4.html#cb6-318"></a><span class="co"># pivot survey_responses to long form</span></span>
<span id="cb6-319"><a href="slides-4.html#cb6-319"></a>survey_responses &lt;-</span>
<span id="cb6-320"><a href="slides-4.html#cb6-320"></a><span class="st">  </span>pre_survey <span class="op">%&gt;%</span></span>
<span id="cb6-321"><a href="slides-4.html#cb6-321"></a><span class="st">  </span><span class="co"># Gather questions and responses</span></span>
<span id="cb6-322"><a href="slides-4.html#cb6-322"></a><span class="st">  </span><span class="kw">pivot_longer</span>(<span class="dt">cols =</span> q1<span class="op">:</span>q10,</span>
<span id="cb6-323"><a href="slides-4.html#cb6-323"></a>               <span class="dt">names_to =</span> <span class="st">&quot;question&quot;</span>,</span>
<span id="cb6-324"><a href="slides-4.html#cb6-324"></a>               <span class="dt">values_to =</span> <span class="st">&quot;response&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb6-325"><a href="slides-4.html#cb6-325"></a><span class="st">  </span><span class="kw">mutate</span>(</span>
<span id="cb6-326"><a href="slides-4.html#cb6-326"></a>    <span class="co"># Here&#39;s where we make the column of question categories</span></span>
<span id="cb6-327"><a href="slides-4.html#cb6-327"></a>    <span class="dt">measure =</span> <span class="kw">case_when</span>(</span>
<span id="cb6-328"><a href="slides-4.html#cb6-328"></a>      question <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;q1&quot;</span>, <span class="st">&quot;q4&quot;</span>, <span class="st">&quot;q5&quot;</span>, <span class="st">&quot;q8&quot;</span>, <span class="st">&quot;q10&quot;</span>) <span class="op">~</span><span class="st"> &quot;int&quot;</span>,</span>
<span id="cb6-329"><a href="slides-4.html#cb6-329"></a>      question <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;q2&quot;</span>, <span class="st">&quot;q6&quot;</span>, <span class="st">&quot;q9&quot;</span>) <span class="op">~</span><span class="st"> &quot;uv&quot;</span>,</span>
<span id="cb6-330"><a href="slides-4.html#cb6-330"></a>      question <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;q3&quot;</span>, <span class="st">&quot;q7&quot;</span>) <span class="op">~</span><span class="st"> &quot;pc&quot;</span>,</span>
<span id="cb6-331"><a href="slides-4.html#cb6-331"></a>      <span class="ot">TRUE</span> <span class="op">~</span><span class="st"> </span><span class="ot">NA_character_</span></span>
<span id="cb6-332"><a href="slides-4.html#cb6-332"></a>    )) </span>
<span id="cb6-333"><a href="slides-4.html#cb6-333"></a></span>
<span id="cb6-334"><a href="slides-4.html#cb6-334"></a><span class="co"># create mean_response for each student for each measure</span></span>
<span id="cb6-335"><a href="slides-4.html#cb6-335"></a>survey_responses &lt;-</span>
<span id="cb6-336"><a href="slides-4.html#cb6-336"></a><span class="st">  </span>survey_responses <span class="op">%&gt;%</span></span>
<span id="cb6-337"><a href="slides-4.html#cb6-337"></a><span class="st">  </span><span class="kw">group_by</span>(student_id, measure) <span class="op">%&gt;%</span></span>
<span id="cb6-338"><a href="slides-4.html#cb6-338"></a><span class="st">  </span><span class="co"># Here&#39;s where we compute the mean of the responses for each stdt &amp; measure combo</span></span>
<span id="cb6-339"><a href="slides-4.html#cb6-339"></a><span class="st">  </span><span class="kw">summarize</span>(</span>
<span id="cb6-340"><a href="slides-4.html#cb6-340"></a>    <span class="co"># Mean response for each measure</span></span>
<span id="cb6-341"><a href="slides-4.html#cb6-341"></a>    <span class="dt">mean_response =</span> <span class="kw">mean</span>(response, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>)</span>
<span id="cb6-342"><a href="slides-4.html#cb6-342"></a>  ) </span>
<span id="cb6-343"><a href="slides-4.html#cb6-343"></a></span>
<span id="cb6-344"><a href="slides-4.html#cb6-344"></a><span class="co"># Filter NA (missing) responses and pivot to wide form</span></span>
<span id="cb6-345"><a href="slides-4.html#cb6-345"></a>survey_responses &lt;-</span>
<span id="cb6-346"><a href="slides-4.html#cb6-346"></a><span class="st">  </span>survey_responses <span class="op">%&gt;%</span></span>
<span id="cb6-347"><a href="slides-4.html#cb6-347"></a><span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(mean_response)) <span class="op">%&gt;%</span></span>
<span id="cb6-348"><a href="slides-4.html#cb6-348"></a><span class="st">  </span><span class="kw">pivot_wider</span>(<span class="dt">names_from =</span> measure, </span>
<span id="cb6-349"><a href="slides-4.html#cb6-349"></a>              <span class="dt">values_from =</span> mean_response)</span>
<span id="cb6-350"><a href="slides-4.html#cb6-350"></a>survey_responses</span>
<span id="cb6-351"><a href="slides-4.html#cb6-351"></a></span>
<span id="cb6-352"><a href="slides-4.html#cb6-352"></a><span class="co"># get correlation table</span></span>
<span id="cb6-353"><a href="slides-4.html#cb6-353"></a>survey_responses <span class="op">%&gt;%</span></span>
<span id="cb6-354"><a href="slides-4.html#cb6-354"></a><span class="st">  </span><span class="kw">apa.cor.table</span>(<span class="dt">filename =</span> <span class="st">&quot;corr-table-output.doc&quot;</span>)</span>
<span id="cb6-355"><a href="slides-4.html#cb6-355"></a><span class="co"># note the correlation table includes student_id. </span></span>
<span id="cb6-356"><a href="slides-4.html#cb6-356"></a><span class="co"># probably want to delete it in Word</span></span>
<span id="cb6-357"><a href="slides-4.html#cb6-357"></a></span>
<span id="cb6-358"><a href="slides-4.html#cb6-358"></a><span class="co">#############################################################################</span></span>
<span id="cb6-359"><a href="slides-4.html#cb6-359"></a><span class="co"># 5d. Linear regression with hours sptent (rather than minutes) as predictor</span></span>
<span id="cb6-360"><a href="slides-4.html#cb6-360"></a><span class="co">############################################################################</span></span>
<span id="cb6-361"><a href="slides-4.html#cb6-361"></a></span>
<span id="cb6-362"><a href="slides-4.html#cb6-362"></a><span class="co"># creating a new variable for the amount of time spent in hours</span></span>
<span id="cb6-363"><a href="slides-4.html#cb6-363"></a>dat &lt;-<span class="st"> </span></span>
<span id="cb6-364"><a href="slides-4.html#cb6-364"></a><span class="st">  </span>dat <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb6-365"><a href="slides-4.html#cb6-365"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">TimeSpent_hours =</span> TimeSpent <span class="op">/</span><span class="st"> </span><span class="dv">60</span>)</span>
<span id="cb6-366"><a href="slides-4.html#cb6-366"></a></span>
<span id="cb6-367"><a href="slides-4.html#cb6-367"></a><span class="co"># the same linear model as above, but with the TimeSpent variable in hours</span></span>
<span id="cb6-368"><a href="slides-4.html#cb6-368"></a>m_linear_<span class="dv">1</span> &lt;-<span class="st"> </span></span>
<span id="cb6-369"><a href="slides-4.html#cb6-369"></a><span class="st">  </span><span class="kw">lm</span>(final_grade <span class="op">~</span><span class="st"> </span>TimeSpent_hours, <span class="dt">data =</span> dat)</span>
<span id="cb6-370"><a href="slides-4.html#cb6-370"></a></span>
<span id="cb6-371"><a href="slides-4.html#cb6-371"></a><span class="co"># viewing the output of the linear model</span></span>
<span id="cb6-372"><a href="slides-4.html#cb6-372"></a><span class="kw">tab_model</span>(m_linear_<span class="dv">1</span>,</span>
<span id="cb6-373"><a href="slides-4.html#cb6-373"></a>          <span class="dt">title =</span> <span class="st">&quot;Table 7.2&quot;</span>)</span>
<span id="cb6-374"><a href="slides-4.html#cb6-374"></a></span>
<span id="cb6-375"><a href="slides-4.html#cb6-375"></a><span class="co">##################################################################</span></span>
<span id="cb6-376"><a href="slides-4.html#cb6-376"></a><span class="co"># 5e. Linear regression with standardized time spent as predictor</span></span>
<span id="cb6-377"><a href="slides-4.html#cb6-377"></a><span class="co">##################################################################</span></span>
<span id="cb6-378"><a href="slides-4.html#cb6-378"></a><span class="co"># this is to standardize the TimeSpent variable to have a mean of 0 and a standard deviation of 1</span></span>
<span id="cb6-379"><a href="slides-4.html#cb6-379"></a><span class="co"># this makes intercept more interpretable</span></span>
<span id="cb6-380"><a href="slides-4.html#cb6-380"></a>dat &lt;-<span class="st"> </span></span>
<span id="cb6-381"><a href="slides-4.html#cb6-381"></a><span class="st">  </span>dat <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb6-382"><a href="slides-4.html#cb6-382"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">TimeSpent_std =</span> <span class="kw">scale</span>(TimeSpent))</span>
<span id="cb6-383"><a href="slides-4.html#cb6-383"></a></span>
<span id="cb6-384"><a href="slides-4.html#cb6-384"></a><span class="co"># the same linear model as above, but with the TimeSpent variable standardized</span></span>
<span id="cb6-385"><a href="slides-4.html#cb6-385"></a>m_linear_<span class="dv">2</span> &lt;-<span class="st"> </span></span>
<span id="cb6-386"><a href="slides-4.html#cb6-386"></a><span class="st">  </span><span class="kw">lm</span>(final_grade <span class="op">~</span><span class="st"> </span>TimeSpent_std, <span class="dt">data =</span> dat)</span>
<span id="cb6-387"><a href="slides-4.html#cb6-387"></a></span>
<span id="cb6-388"><a href="slides-4.html#cb6-388"></a><span class="co"># viewing the output of the linear model</span></span>
<span id="cb6-389"><a href="slides-4.html#cb6-389"></a><span class="kw">tab_model</span>(m_linear_<span class="dv">2</span>,</span>
<span id="cb6-390"><a href="slides-4.html#cb6-390"></a>          <span class="dt">title =</span> <span class="st">&quot;Table 7.3&quot;</span>)</span>
<span id="cb6-391"><a href="slides-4.html#cb6-391"></a></span>
<span id="cb6-392"><a href="slides-4.html#cb6-392"></a><span class="co">#####################################################################</span></span>
<span id="cb6-393"><a href="slides-4.html#cb6-393"></a><span class="co">#6. Multiple regression model with time spent &amp; subject as predictors</span></span>
<span id="cb6-394"><a href="slides-4.html#cb6-394"></a><span class="co">#####################################################################</span></span>
<span id="cb6-395"><a href="slides-4.html#cb6-395"></a><span class="co"># a linear model with the subject added </span></span>
<span id="cb6-396"><a href="slides-4.html#cb6-396"></a><span class="co"># independent variables, such as TimeSpent_std and subject, can simply be separated with a plus symbol:</span></span>
<span id="cb6-397"><a href="slides-4.html#cb6-397"></a>m_linear_<span class="dv">3</span> &lt;-<span class="st"> </span></span>
<span id="cb6-398"><a href="slides-4.html#cb6-398"></a><span class="st">  </span><span class="kw">lm</span>(final_grade <span class="op">~</span><span class="st"> </span>TimeSpent_std <span class="op">+</span><span class="st"> </span>subject, <span class="dt">data =</span> dat)</span>
<span id="cb6-399"><a href="slides-4.html#cb6-399"></a><span class="co"># note: subject is a categorical variable and it seems AnPhA (animal physiology)</span></span>
<span id="cb6-400"><a href="slides-4.html#cb6-400"></a><span class="co"># is set as the reference category (numbers assinged by alphabetical order)</span></span>
<span id="cb6-401"><a href="slides-4.html#cb6-401"></a></span>
<span id="cb6-402"><a href="slides-4.html#cb6-402"></a><span class="kw">tab_model</span>(m_linear_<span class="dv">3</span>,</span>
<span id="cb6-403"><a href="slides-4.html#cb6-403"></a>          <span class="dt">title =</span> <span class="st">&quot;Table 7.4&quot;</span>)</span>
<span id="cb6-404"><a href="slides-4.html#cb6-404"></a></span>
<span id="cb6-405"><a href="slides-4.html#cb6-405"></a><span class="co"># Combine all four models in one table &amp; show standard errors rather than CIs</span></span>
<span id="cb6-406"><a href="slides-4.html#cb6-406"></a><span class="kw">tab_model</span>(m_linear, m_linear_<span class="dv">1</span>, m_linear_<span class="dv">2</span>, m_linear_<span class="dv">3</span>,</span>
<span id="cb6-407"><a href="slides-4.html#cb6-407"></a>          <span class="dt">show.ci =</span> <span class="ot">FALSE</span>, <span class="dt">show.se =</span> <span class="ot">TRUE</span>)</span>
<span id="cb6-408"><a href="slides-4.html#cb6-408"></a></span>
<span id="cb6-409"><a href="slides-4.html#cb6-409"></a><span class="co">#####################################################################</span></span>
<span id="cb6-410"><a href="slides-4.html#cb6-410"></a><span class="co">#7. What other analyses can you think of?</span></span>
<span id="cb6-411"><a href="slides-4.html#cb6-411"></a><span class="co">#####################################################################</span></span>
<span id="cb6-412"><a href="slides-4.html#cb6-412"></a></span>
<span id="cb6-413"><a href="slides-4.html#cb6-413"></a><span class="co"># Add total scores of pre-course motivation as a predictor?</span></span>
<span id="cb6-414"><a href="slides-4.html#cb6-414"></a><span class="co"># --&gt; use mutate to create sum_motiv variable</span></span>
<span id="cb6-415"><a href="slides-4.html#cb6-415"></a></span>
<span id="cb6-416"><a href="slides-4.html#cb6-416"></a><span class="co"># Does the effect of time spent vary by subjects/courses?</span></span>
<span id="cb6-417"><a href="slides-4.html#cb6-417"></a><span class="co"># --&gt; add time x subject interaction term</span></span>
<span id="cb6-418"><a href="slides-4.html#cb6-418"></a><span class="co"># Maybe color dots in scatter plot by subject to see if there is a pattern</span></span>
<span id="cb6-419"><a href="slides-4.html#cb6-419"></a></span>
<span id="cb6-420"><a href="slides-4.html#cb6-420"></a><span class="kw">ggplot</span>(<span class="dt">data =</span> dat, </span>
<span id="cb6-421"><a href="slides-4.html#cb6-421"></a>       <span class="kw">aes</span>(<span class="dt">x =</span> TimeSpent, <span class="dt">y =</span> final_grade, <span class="dt">color =</span> subject)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb6-422"><a href="slides-4.html#cb6-422"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span></span>
<span id="cb6-423"><a href="slides-4.html#cb6-423"></a><span class="st">  </span><span class="kw">theme_dataedu</span>() <span class="op">+</span></span>
<span id="cb6-424"><a href="slides-4.html#cb6-424"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Time Spent&quot;</span>,</span>
<span id="cb6-425"><a href="slides-4.html#cb6-425"></a>       <span class="dt">y =</span> <span class="st">&quot;Final Grade&quot;</span>)</span></code></pre></div>
</details>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="walkthrough-1-the-education-data-science-pipeline.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="meeting-videos-4.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/r4ds/bookclub-dsieur/edit/main/01-retitle.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
